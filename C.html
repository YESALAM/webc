<!DOCTYPE html>
<html lang="en">
<head>
<title>Run C Online</title>
<link rel="stylesheet" type="text/css" href="bootstrap.min.css">
<style type="text/css" media="screen">
	    #ace-editor {
	         height: 175px;
	    }
		
		#content{
		   
		       border : 1px solid;
		       height:125px;
		}
	    </style>
		<script src="src-noconflict/ace.js" type="text/javascript" charset="utf-8"></script>
		<script src="jquery-1.12.4.min.js" type="text/javascript"></script>
		<script src="bootstrap.min.js" type="text/javascript"></script>
</head>
<body>

	    <!-- <div style="height:400px; border:1px solid #000;"> -->
			<div class="container">
			    <div class="panel panel-default">
			        <div class="panel-heading">
						<ul class="nav nav-tabs">
						  <li><a href="index.html">Python</a></li>
						  <li class="active"><a href="C.html">C</a></li>
						</ul>
			           
			        </div>
			        <div class="panel-body">
						 <div class="row">
							 <h4>Input</h4>
							 <div class="col-md-6">
	        					 <div id="ace-editor"></div>
							 </div>
							  <div class="col-md-6">
								   <h4>Output</h4>
								    <textarea name="message" id="content"disabled="disabled" cols="15" rows="15" class="inline-txtarea"></textarea>
			 				   </div>
			 			  </div>
					  </div>
					<div>
					       <div class="text-center"><button class="btn btn-primary" id="submit">Submit</button></div>
					  
					     
					       <br/>
					   </div>
					   <textarea rows="5" cols="10" class="code" name="ace-editor" style="display: none;"></textarea>
	    <!-- </div> -->
	<!-- <input type="submit" name="submit" value="submit" id="submit"/> -->
	<!-- <textarea rows="5" cols="30" name="message"></textarea> -->


 <script>
    var editor = ace.edit("ace-editor");
    editor.setTheme("ace/theme/monokai");
    editor.getSession().setMode("ace/mode/c_cpp");
	var textarea = $('textarea[name="ace-editor"]');
	var messagearea = $('textarea[name="message"]');
	editor.getSession().on("change", function () {
	    textarea.val(editor.getSession().getValue());
	});
	$('#submit').click(function(){
	var code = encodeURI(textarea.val())
	$.ajax({
	    type: 'POST',
	    url: 'http://127.0.0.1:5000/C/',
	    dataType: 'json',
		data: JSON.stringify({"code":code}),
		contentType: "application/json",
	    cache: false
	}).done(function(data, textStatus, xhr) {
		messagearea.val("Success!\n" + data[0].output);

	}).fail(function(data, textStatus, xhr) { 
		messagearea.val("Error!\n" + data.responseJSON[0].error);
	});	
	});
</script> 
</body>
</html>